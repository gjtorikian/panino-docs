<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]--><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Node.js Manual TEST - </title><meta name="generator" content="panino-doc-build"><meta name="author" content="Garen J. Torikian"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="./assets/csses/bootstrap.min.css"><link rel="stylesheet" href="./assets/csses/prettify.css"><link rel="stylesheet" href="./assets/csses/refguide_overrides.css"><link href="./assets/images/favicon.ico" rel="icon" type="image/x-icon"><link type="text/css" rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/vs.min.css"><script src="./assets/javascripts/jquery.js"></script><script src="./assets/javascripts/clicker.js"></script><script src="./assets/javascripts/jquery.collapse.js"></script><script src="./assets/javascripts/jquery.cookie.js"></script><script src="./assets/javascripts/bootstrap-dropdown.js"></script><script src="./assets/javascripts/jquery-scrollspy.js"></script><script src="./assets/javascripts/prettify-extension.js"></script></head><body><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div id="topSection" class="container"><ul class="nav topLinks"></ul><form id="searchbox" action="" class="navbar-search pull-right"> <input name="query" type="text" placeholder="Search the API" title="Search across all the documentation" class="search-query span3"></form></div></div></div><div id="nonFooter"><div id="wrapper"><div class="content"><div class="row centerpiece"><div id="sidebarContainer" class="span3"><div id="sidebar"><!--include _menu.jade--></div></div><div id="mainContent" class="span9"><div id="documentation"><div class="classContent"><div class="membersBackground"></div><div class=" members pos0"><div class=" membersContent pos0"><h1 class="memberHeader"><span class="name">Debugger</span></h1><ul data-tabs="tabs" class="nav tabs pos0"><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li></ul></div></div><article id="Debugger" data-title="Debugger (class)" class="article"><blockquote>
<p>3 - Stable</p>
</blockquote>
<div class="section description"><div class="memberContent"><p>V8 comes with an extensive debugger which is accessible out-of-process via a
simple <a href="http://code.google.com/p/v8/wiki/DebuggerProtocol">TCP protocol</a>.</p>
<p>Node.js has a built-in client for this debugger. To use this, start Node.js with
the <code>debug</code> argument; a prompt appears, ready to take your command:</p>
<pre><code>% node <span class="built_in">debug</span> myscript.js
&lt; debugger listening on port <span class="number">5858</span>
connecting... ok
<span class="keyword">break</span> <span class="keyword">in</span> /home/indutny/Code/git/indutny/myscript.js:<span class="number">1</span>
  <span class="number">1</span> x = <span class="number">5</span>;
  <span class="number">2</span> setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span></span> {
  <span class="number">3</span>   debugger;
<span class="built_in">debug</span>></code></pre>
<p>Node&#39;s debugger client doesn&#39;t support the full range of commands, but simple
step and inspection is possible. By putting the statement <code>debugger;</code> into the
source code of your script, you will enable a breakpoint.</p>
<p>For example, suppose <code>myscript.js</code> looked like this:</p>
<pre><code>// myscript<span class="preprocessor">.js</span>
<span class="built_in">x</span> = <span class="number">5</span><span class="comment">;</span>
setTimeout(function () {
  debugger<span class="comment">;</span>
  console<span class="preprocessor">.log</span>(<span class="string">"world"</span>)<span class="comment">;</span>
}, <span class="number">1000</span>)<span class="comment">;</span>
console<span class="preprocessor">.log</span>(<span class="string">"hello"</span>)<span class="comment">;</span></code></pre>
<p>Then once the debugger is run, it will break on line 4.</p>
<pre><code>% node debug myscript<span class="preprocessor">.js</span>
&lt; debugger listening on port <span class="number">5858</span>
connecting... ok
<span class="keyword">break</span> <span class="keyword">in</span> /home/indutny/Code/git/indutny/myscript<span class="preprocessor">.js</span>:<span class="number">1</span>
  <span class="number">1</span> <span class="built_in">x</span> = <span class="number">5</span><span class="comment">;</span>
  <span class="number">2</span> setTimeout(function () {
  <span class="number">3</span>   debugger<span class="comment">;</span>
debug> cont
&lt; hello
<span class="keyword">break</span> <span class="keyword">in</span> /home/indutny/Code/git/indutny/myscript<span class="preprocessor">.js</span>:<span class="number">3</span>
  <span class="number">1</span> <span class="built_in">x</span> = <span class="number">5</span><span class="comment">;</span>
  <span class="number">2</span> setTimeout(function () {
  <span class="number">3</span>   debugger<span class="comment">;</span>
  <span class="number">4</span>   console<span class="preprocessor">.log</span>(<span class="string">"world"</span>)<span class="comment">;</span>
  <span class="number">5</span> }, <span class="number">1000</span>)<span class="comment">;</span>
debug> next
<span class="keyword">break</span> <span class="keyword">in</span> /home/indutny/Code/git/indutny/myscript<span class="preprocessor">.js</span>:<span class="number">4</span>
  <span class="number">2</span> setTimeout(function () {
  <span class="number">3</span>   debugger<span class="comment">;</span>
  <span class="number">4</span>   console<span class="preprocessor">.log</span>(<span class="string">"world"</span>)<span class="comment">;</span>
  <span class="number">5</span> }, <span class="number">1000</span>)<span class="comment">;</span>
  <span class="number">6</span> console<span class="preprocessor">.log</span>(<span class="string">"hello"</span>)<span class="comment">;</span>
debug> repl
Press Ctrl + C to leave debug repl
> <span class="built_in">x</span>
<span class="number">5</span>
> <span class="number">2</span>+<span class="number">2</span>
<span class="number">4</span>
debug> next
&lt; world
<span class="keyword">break</span> <span class="keyword">in</span> /home/indutny/Code/git/indutny/myscript<span class="preprocessor">.js</span>:<span class="number">5</span>
  <span class="number">3</span>   debugger<span class="comment">;</span>
  <span class="number">4</span>   console<span class="preprocessor">.log</span>(<span class="string">"world"</span>)<span class="comment">;</span>
  <span class="number">5</span> }, <span class="number">1000</span>)<span class="comment">;</span>
  <span class="number">6</span> console<span class="preprocessor">.log</span>(<span class="string">"hello"</span>)<span class="comment">;</span>
  <span class="number">7</span>
debug> quit
%</code></pre>
<p>The <code>repl</code> command allows you to evaluate code remotely. The <code>next</code> command
steps over to the next line. There are a few other commands available and more
to come. Type <code>help</code> to see others.</p>
<p>There are some online JavaScript IDEs, like <a href="http://www.c9.io">Cloud9 IDE</a>,
which provide the Node.js standard debugging mechanisms, as well as more.</p>
<h2>Watchers</h2>
<p>You can watch expressions and variable values while debugging your code.</p>
<p>On every breakpoint each expression from the watchers list will be evaluated in
the current context and displayed just before the breakpoint&#39;s source code
listing.</p>
<p>To start watching an expression, type <code>watch(&quot;my_expression&quot;)</code>. <code>watchers</code>
prints the active watchers. To remove a watcher, type
<code>unwatch(&quot;my_expression&quot;)</code>.</p>
<h2>Commands Reference</h2>
<h3>Stepping</h3>
<ul>
<li><code>cont</code>, <code>c</code>: Continue</li>
<li><code>next</code>, <code>n</code>: Step next</li>
<li><code>step</code>, <code>s</code>: Step in</li>
<li><code>out</code>, <code>o</code>: Step out</li>
<li><code>pause</code> - Pause running code (like pause button in Developer Tools)</li>
</ul>
<h3>Breakpoints</h3>
<ul>
<li><code>setBreakpoint()</code>, <code>sb()</code>: Sets a breakpoint on the current line</li>
<li><code>setBreakpoint(line)</code>, <code>sb(line)</code>: Set breakpoint on specific line</li>
<li><code>setBreakpoint(&#39;fn()&#39;)</code>, <code>sb(...)</code>: Sets a breakpoint on the first statement
in the function&#39;s body</li>
<li><code>setBreakpoint(&#39;script.js&#39;, 1)</code>, <code>sb(...)</code>: Sets a  breakpoint on the first
line of <code>script.js</code></li>
<li><code>clearBreakpoint</code>, <code>cb(...)</code>: Clears a breakpoint</li>
</ul>
<h3>Info</h3>
<ul>
<li><code>backtrace</code>, <code>bt</code>: Prints a backtrace of the current execution frame</li>
<li><code>list(c)</code>: Lists the script&#39;s source code with a five line context (five lines
before and after)</li>
<li><code>watch(expr)</code>: Adds an expression to the watch list</li>
<li><code>unwatch(expr)</code>: Removes am expression from the watch list</li>
<li><code>watchers</code>: Lists all the watchers and their values (automatically listed on
each breakpoint)</li>
<li><code>repl</code>: Open the debugger&#39;s REPL for evaluation in debugging a script&#39;s
context</li>
</ul>
<h3>Execution control</h3>
<ul>
<li><code>run</code>: Run a script (automatically runs on debugger&#39;s start)</li>
<li><code>restart</code>: Restart a script</li>
<li><code>kill</code>: Kill a script</li>
</ul>
<h3>Various</h3>
<ul>
<li><code>scripts</code>: List all the loaded scripts</li>
<li><code>version</code>: Display the V8 version</li>
</ul>
<h2>Advanced Usage</h2>
<p>The V8 debugger can be enabled and accessed either by starting Node.js with the
<code>--debug</code> command-line flag or by signaling an existing Node.js process with
<code>SIGUSR1</code>.</p>
</div></div></article></div></div><div id="disqus_thread"></div></div></div></div></div><div class="push"></div></div><div id="footer"><div class="footerInner"><div class="footer-text">&#169; 2012:</div></div></div><!-- scripts concatenated and minified via ant build script--><script defer src="./assets/javascripts/plugins.js"></script>
<script defer src="./assets/javascripts/prettify.js"></script>
<script defer src="./assets/javascripts/prettify-extension.js"></script>
<script defer src="./assets/javascripts/ux.js"></script><!-- end scripts--><!--[if lt IE 7]><script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script><script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})
</script><![endif]--></body></html>