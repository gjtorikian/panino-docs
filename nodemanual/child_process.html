<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]--><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Node.js Manual TEST - </title><meta name="generator" content="panino-doc-build"><meta name="author" content="Garen J. Torikian"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="./assets/csses/bootstrap.min.css"><link rel="stylesheet" href="./assets/csses/prettify.css"><link rel="stylesheet" href="./assets/csses/refguide_overrides.css"><link href="./assets/images/favicon.ico" rel="icon" type="image/x-icon"><link type="text/css" rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles/vs.min.css"><script src="./assets/javascripts/jquery.js"></script><script src="./assets/javascripts/clicker.js"></script><script src="./assets/javascripts/jquery.collapse.js"></script><script src="./assets/javascripts/jquery.cookie.js"></script><script src="./assets/javascripts/bootstrap-dropdown.js"></script><script src="./assets/javascripts/jquery-scrollspy.js"></script><script src="./assets/javascripts/prettify-extension.js"></script></head><body><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div id="topSection" class="container"><ul class="nav topLinks"></ul><form id="searchbox" action="" class="navbar-search pull-right"> <input name="query" type="text" placeholder="Search the API" title="Search across all the documentation" class="search-query span3"></form></div></div></div><div id="nonFooter"><div id="wrapper"><div class="content"><div class="row centerpiece"><div id="sidebarContainer" class="span3"><div id="sidebar"><!--include _menu.jade--></div></div><div id="mainContent" class="span9"><div id="documentation"><div class="classContent"><div class="membersBackground"></div><div class=" members pos0"><div class=" membersContent pos0"><h1 class="memberHeader"><span class="name">child_process</span></h1><ul data-tabs="tabs" class="nav tabs pos0"><li data-dropdown="dropdown" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle"><span>Events (2)</span><b class="caret"></b></a><ul class="dropdown-menu"><li data-id="child_process@exit" class="memberLink"><a href="#child_process.exit" class="" title="child_process@exit (event)" data-id="child_process@exit">exit</a></li><li data-id="child_process@message" class="memberLink"><a href="#child_process.message" class="" title="child_process@message (event)" data-id="child_process@message">message</a></li></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle"><span>Functions (7)</span><b class="caret"></b></a><ul class="dropdown-menu"><li data-id="child_process.disconnect" class="memberLink"><a href="#child_process.disconnect" class="" title="child_process.disconnect (class method)" data-id="child_process.disconnect">disconnect</a></li><li data-id="child_process.exec" class="memberLink"><a href="#child_process.exec" class="" title="child_process.exec (class method)" data-id="child_process.exec">exec</a></li><li data-id="child_process.execFile" class="memberLink"><a href="#child_process.execFile" class="" title="child_process.execFile (class method)" data-id="child_process.execFile">execFile</a></li><li data-id="child_process.fork" class="memberLink"><a href="#child_process.fork" class="" title="child_process.fork (class method)" data-id="child_process.fork">fork</a></li><li data-id="child_process.kill" class="memberLink"><a href="#child_process.kill" class="" title="child_process.kill (class method)" data-id="child_process.kill">kill</a></li><li data-id="child_process.send" class="memberLink"><a href="#child_process.send" class="" title="child_process.send (class method)" data-id="child_process.send">send</a></li><li data-id="child_process.spawn" class="memberLink"><a href="#child_process.spawn" class="" title="child_process.spawn (class method)" data-id="child_process.spawn">spawn</a></li></ul></li><li data-dropdown="dropdown" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle"><span>Properties (4)   </span><b class="caret"></b></a><ul class="dropdown-menu"><li data-id="child_process.connected" class="memberLink"><a href="#child_process.connected" class="" title="child_process.connected (class property)" data-id="child_process.connected">connected</a></li><li data-id="child_process.pid" class="memberLink"><a href="#child_process.pid" class="" title="child_process.pid (class property)" data-id="child_process.pid">pid</a></li><li data-id="child_process.stdin" class="memberLink"><a href="#child_process.stdin" class="" title="child_process.stdin (class property)" data-id="child_process.stdin">stdin</a></li><li data-id="child_process.stdout" class="memberLink"><a href="#child_process.stdout" class="" title="child_process.stdout (class property)" data-id="child_process.stdout">stdout</a></li></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li><li data-dropdown="dropdown" class="dropdown"><ul class="dropdown-menu"></ul></li></ul></div></div><article id="child_process" data-title="child_process (class)" class="article"><blockquote>
<p>3 - Stable</p>
</blockquote>
<div class="section description"><div class="memberContent"><p>Node.js provides a tri-directional
<a href="http://www.kernel.org/doc/man-pages/online/pages/man3/popen.3.html"><code>popen(3)</code></a>
facility through the <code>child_process</code> module. It&#39;s possible to stream data
through the child&#39;s <code>stdin</code>, <code>stdout</code>, and <code>stderr</code> in a fully non-blocking way.</p>
<p>To create a child process object, use <code>require(&#39;child_process&#39;)</code> in your code.</p>
<p>Child processes always have three streams associated with them. They are:</p>
<ul>
<li><code>child.stdin</code>, the standard input stream</li>
<li><code>child.stdout</code>, the standard output stream</li>
<li><code>child.stderr</code>, the standard error stream</li>
</ul>
<h4>Example: Running ls in a child process</h4>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child_process.js?linestart=3&lineend=0&showlines=false' defer='defer'></script></div></div><div class="section namespaces"><!-- <h3>Namespaces</h3><div class="memberContent"><ul class="method-details-list"><li class="method-description"><h4><a href="#child_process.close" class="" title="child_process@close (namespace)" data-id="child_process@close">child_process@close</a></h4><p>This event is emitted when the stdio streams of a child process have all
terminated. This is distinct from <code>&#39;exit&#39;</code>, since multiple processes
might share the same stdio streams.</p>
</li><li class="method-description"><h4><a href="#child_process.disconnect" class="" title="child_process@disconnect (namespace)" data-id="child_process@disconnect">child_process@disconnect</a></h4><p>This event is emitted after using the <a href="#child_process.disconnect" class="link-short" title="child_process.disconnect (class method)" data-id="child_process.disconnect">disconnect</a> method in
the parent or in the child. After disconnecting, it is no longer possible to send messages.
An alternative way to check if you can send messages is to see if the
<a href="#child_process.connected" class="link-short" title="child_process.connected (class property)" data-id="child_process.connected">connected</a> property is <code>true</code>.</p>
</li></ul></div>--></div></article><article id="child_process.event.close" data-title="child_process@close (namespace)" class="article"><div class="section description"><div class="memberContent"><p>This event is emitted when the stdio streams of a child process have all
terminated. This is distinct from <code>&#39;exit&#39;</code>, since multiple processes
might share the same stdio streams.</p>
</div></div></article><article id="child_process.event.disconnect" data-title="child_process@disconnect (namespace)" class="article"><div class="section description"><div class="memberContent"><p>This event is emitted after using the <a href="#child_process.disconnect" class="link-short" title="child_process.disconnect (class method)" data-id="child_process.disconnect">disconnect</a> method in
the parent or in the child. After disconnecting, it is no longer possible to send messages.
An alternative way to check if you can send messages is to see if the
<a href="#child_process.connected" class="link-short" title="child_process.connected (class property)" data-id="child_process.connected">connected</a> property is <code>true</code>.</p>
</div></div></article><h3 class="sectionHeader">Events</h3><article id="child_process.event.exit" data-title="child_process@exit (event)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span class="eventObjName">child_process</span><span class="eventListenerStart">.on("</span><span id="child_process.exit" class="member-name eventMember methodClicker">exit</span></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process@exit" class="ellipsis_description"><p>This event is emitted after the child process ends. If the process terminated
normally, <code>code</code> is the final exit code of the process; otherwise, it&#39;s <code>null</code>. If
the process terminated due to receipt of a signal, <code>signal</code> is the string name
of the signal; otherwise, it&#39;s <code>null</code>.</p>
</div><div id="short_child_process@exit" class="short_description hiddenSpan"><p>This event is emitted after the child process ends. If the process terminated
normally, <code>code</code> is the final exit code of the process; otherwise, it&#39;s <code>null</code>. If
the process terminated due to receipt of a signal, <code>signal</code> is the string name
of the signal; otherwise, it&#39;s <code>null</code>.</p>
<p>Note that the child process stdio streams might still be open.</p>
<p>For more information, see
<a href="http://www.kernel.org/doc/man-pages/online/pages/man2/wait.2.html">waitpid(2)</a>.</p>
</div><h3 id="child_process@exit" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><p>Note that the child process stdio streams might still be open.</p>
<p>For more information, see
<a href="http://www.kernel.org/doc/man-pages/online/pages/man2/wait.2.html">waitpid(2)</a>.</p>
<h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">code</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Number.html" class="" title="Number" data-id="Number">Number</a></td><td class="argDescription ">Required. The final exit code of the process (otherwise, <code>null</code>)</td></tr><tr class="argumentRow "><td class="argName ">signal</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The string name of the signal (otherwise, <code>null</code>)</td></tr></table></div></div></div></div></article><article id="child_process.event.message" data-title="child_process@message (event)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span class="eventObjName">child_process</span><span class="eventListenerStart">.on("</span><span id="child_process.message" class="member-name eventMember methodClicker">message</span></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process@message" class="ellipsis_description"><p>Messages sent by <a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> are obtained using this
<code>message</code> event.</p>
</div><div id="short_child_process@message" class="short_description hiddenSpan"><p>Messages sent by <a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> are obtained using this
<code>message</code> event.</p>
</div><h3 id="child_process@message" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">message</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="" title="Object" data-id="Object">Object</a></td><td class="argDescription ">Required. A parsed JSON object, or a primitive value</td></tr><tr class="argumentRow "><td class="argName ">sendHandle</td><td class="argType" "><a href="net.html#net.Server" class="" title="net.Server (class)" data-id="net.Server">net.Server</a> | <a href="net.html#net.Socket" class="" title="net.Socket (class)" data-id="net.Socket">net.Socket</a></td><td class="argDescription ">Required. A handle object</td></tr></table></div></div></div></div></article><h3 class="sectionHeader">Methods</h3><article id="child_process.disconnect" data-title="child_process.disconnect (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.disconnect" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">disconnect</span></span></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.disconnect" class="ellipsis_description"><p>To close the IPC connection between parent and child, use this method. It
allows the child to exit gracefully since there is no IPC channel keeping it alive.
When calling this method, the <code>disconnect</code> event is emitted in both parent and child, and the
<code>connected</code> flag is set to <code>false</code>. Note that you can also call
<a href="#child_process.disconnect" class="link-short" title="child_process.disconnect (class method)" data-id="child_process.disconnect">disconnect</a> in the child process.</p>
</div><div id="short_child_process.disconnect" class="short_description hiddenSpan"><p>To close the IPC connection between parent and child, use this method. It
allows the child to exit gracefully since there is no IPC channel keeping it alive.
When calling this method, the <code>disconnect</code> event is emitted in both parent and child, and the
<code>connected</code> flag is set to <code>false</code>. Note that you can also call
<a href="#child_process.disconnect" class="link-short" title="child_process.disconnect (class method)" data-id="child_process.disconnect">disconnect</a> in the child process.</p>
</div><h3 id="child_process.disconnect" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"></div></div></div></div></article><article id="child_process.exec" data-title="child_process.exec (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.exec" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">exec</span></span><li class="signature-returns"><ul class="argument-types"><li class="argument-type"><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="returnType " title="Object" data-id="Object">Object</a></li></ul></li></li></ul><ul class="metaInfo"><li><span class="label related-to">Related to<a href="#child_process.spawn" class="" title="child_process.spawn (class method)" data-id="child_process.spawn">child_process.spawn</a> </span></li></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.exec" class="ellipsis_description"><p>Runs a Unix command in a shell and buffers the output.</p>
</div><div id="short_child_process.exec" class="short_description hiddenSpan"><p>Runs a Unix command in a shell and buffers the output.</p>
<p>There is a second optional argument to specify several options. The default
options are:</p>
<pre><code>{
  <span class="method">encoding:</span> <span class="string">'utf8'</span>,
  <span class="method">timeout:</span> <span class="number">0</span>,
  <span class="method">maxBuffer:</span> <span class="number">200</span>*<span class="number">1024</span>,
  <span class="method">killSignal:</span> <span class="string">'SIGTERM'</span>,
  <span class="method">cwd:</span> null,
  <span class="method">env:</span> null
}</code></pre>
<p>These refer to:</p>
<ul>
<li><code>cwd</code>, a <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, specifies the working directory from which the process is spawned</li>
<li><code>stdio</code>, either an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a> or <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, containing the child&#39;s stdio configuration</li>
<li><code>customFds</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a>, is <strong>deprecated</strong>. They were file descriptors for the child to use for stdio</li>
<li><code>env</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="link-short" title="object" data-id="object">undefined</a>, specifies environment variables that will be visible to the new process</li>
<li><code>detached</code>, a <a href="http://www.nodemanual.org/latest/js_doc/Boolean.html" class="link-short" title="boolean" data-id="boolean">undefined</a>, identifying if the child will be a process group leader</li>
<li><code>encoding</code> is the current encoding the output is defined with</li>
<li><code>timeout</code> is an integer, which, if greater than <code>0</code>, kills the child process
if it runs longer than <code>timeout</code> milliseconds</li>
<li><code>maxBuffer</code> specifies the largest amount of data allowed on stdout or stderr;
if this value is exceeded then the child process is killed.</li>
<li><code>killSignal</code> defines <a href="http://kernel.org/doc/man-pages/online/pages/man7/signal.7.html">a kill
signal</a> to kill
the child process with</li>
</ul>
<p>For further information on these, see the explanation in <a href="#child_process.exec" class="link-short" title="child_process.exec (class method)" data-id="child_process.exec">exec</a>.</p>
<h4>Example</h4>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child.exec.js?linestart=3&lineend=0&showlines=false' defer='defer'></script>

<ul>
<li><code>modulePath</code> {String} The module to run in the child</li>
<li><code>args</code> {Array} List of string arguments</li>
<li><code>options</code> {Object}<ul>
<li><code>cwd</code> {String} Current working directory of the child process</li>
<li><code>customFds</code> {Array} <strong>Deprecated</strong> File descriptors for the child to use
for stdio.  (See below)</li>
<li><code>env</code> {Object} Environment key-value pairs</li>
<li><code>encoding</code> {String} (Default: &#39;utf8&#39;)</li>
<li><code>timeout</code> {Number} (Default: 0)</li>
</ul>
</li>
<li><code>callback</code> {Function} called with the output when process terminates<ul>
<li><code>code</code> {Integer} Exit code</li>
<li><code>stdout</code> {Buffer}</li>
<li><code>stderr</code> {Buffer}</li>
</ul>
</li>
<li></li>
</ul>
<p>An object containing the three standard streams, plus other parameters like the
PID, signal code, and exit code</p>
</div><h3 id="child_process.exec" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><p>There is a second optional argument to specify several options. The default
options are:</p>
<pre><code>{
  <span class="method">encoding:</span> <span class="string">'utf8'</span>,
  <span class="method">timeout:</span> <span class="number">0</span>,
  <span class="method">maxBuffer:</span> <span class="number">200</span>*<span class="number">1024</span>,
  <span class="method">killSignal:</span> <span class="string">'SIGTERM'</span>,
  <span class="method">cwd:</span> null,
  <span class="method">env:</span> null
}</code></pre>
<p>These refer to:</p>
<ul>
<li><code>cwd</code>, a <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, specifies the working directory from which the process is spawned</li>
<li><code>stdio</code>, either an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a> or <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, containing the child&#39;s stdio configuration</li>
<li><code>customFds</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a>, is <strong>deprecated</strong>. They were file descriptors for the child to use for stdio</li>
<li><code>env</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="link-short" title="object" data-id="object">undefined</a>, specifies environment variables that will be visible to the new process</li>
<li><code>detached</code>, a <a href="http://www.nodemanual.org/latest/js_doc/Boolean.html" class="link-short" title="boolean" data-id="boolean">undefined</a>, identifying if the child will be a process group leader</li>
<li><code>encoding</code> is the current encoding the output is defined with</li>
<li><code>timeout</code> is an integer, which, if greater than <code>0</code>, kills the child process
if it runs longer than <code>timeout</code> milliseconds</li>
<li><code>maxBuffer</code> specifies the largest amount of data allowed on stdout or stderr;
if this value is exceeded then the child process is killed.</li>
<li><code>killSignal</code> defines <a href="http://kernel.org/doc/man-pages/online/pages/man7/signal.7.html">a kill
signal</a> to kill
the child process with</li>
</ul>
<p>For further information on these, see the explanation in <a href="#child_process.exec" class="link-short" title="child_process.exec (class method)" data-id="child_process.exec">exec</a>.</p>
<h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">command</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The Unix command to run</td></tr><tr class="argumentRow "><td class="argName ">options</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="" title="Object" data-id="Object">Object</a></td><td class="argDescription ">Required. The options to pass to the command</td></tr><tr class="argumentRow "><td class="argName ">callback</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Function.html" class="" title="Function" data-id="Function">Function</a></td><td class="argDescription ">Required. The function to run after the method completes</td></tr><tr class="argumentRow "><td class="argName ">error</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Error.html" class="" title="Error" data-id="Error">Error</a></td><td class="argDescription ">Required. The standard <code>Error</code> object; <code>err.code</code> is the exit code of the child process and <code>err.signal</code> is set to the signal that terminated the process</td></tr><tr class="argumentRow "><td class="argName ">stdout</td><td class="argType" "><a href="stream.html#stream.ReadableStream" class="" title="stream.ReadableStream (class)" data-id="stream.ReadableStream">stream.ReadableStream</a></td><td class="argDescription ">Required. The standard output stream</td></tr><tr class="argumentRow "><td class="argName ">stderr</td><td class="argType" "><a href="stream.html#stream.ReadableStream" class="" title="stream.ReadableStream (class)" data-id="stream.ReadableStream">stream.ReadableStream</a></td><td class="argDescription ">Required. The standard error stream</td></tr></table></div></div></div></div></article><article id="child_process.execFile" data-title="child_process.execFile (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.execFile" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">execFile</span></span></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.execFile" class="ellipsis_description"><p>A function similar to <code>child.exec()</code>, except instead of executing a subshell it
executes the specified file directly. This makes it slightly leaner than
<code>child.exec</code>. It has the same options and callback.</p>
</div><div id="short_child_process.execFile" class="short_description hiddenSpan"><p>A function similar to <code>child.exec()</code>, except instead of executing a subshell it
executes the specified file directly. This makes it slightly leaner than
<code>child.exec</code>. It has the same options and callback.</p>
</div><h3 id="child_process.execFile" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">file</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The file location with the commands to run</td></tr><tr class="argumentRow "><td class="argName ">args</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The command line arguments to pass</td></tr><tr class="argumentRow "><td class="argName ">options</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="" title="Object" data-id="Object">Object</a></td><td class="argDescription ">Required. The options to pass to the <code>exec</code> call</td></tr><tr class="argumentRow "><td class="argName ">callback</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Function.html" class="" title="Function" data-id="Function">Function</a></td><td class="argDescription ">Required. The function to run after the method completes</td></tr><tr class="argumentRow "><td class="argName ">error</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Error.html" class="" title="Error" data-id="Error">Error</a></td><td class="argDescription ">Required. The standard <code>Error</code> object, except <code>err.code</code> is the exit code of the child process, and `err.signal is set to the signal that terminated the process</td></tr><tr class="argumentRow "><td class="argName ">stdout</td><td class="argType" "><a href="stream.html#stream.ReadableStream" class="" title="stream.ReadableStream (class)" data-id="stream.ReadableStream">stream.ReadableStream</a></td><td class="argDescription ">Required. is the standard output stream</td></tr><tr class="argumentRow "><td class="argName ">stderr</td><td class="argType" "><a href="stream.html#stream.ReadableStream" class="" title="stream.ReadableStream (class)" data-id="stream.ReadableStream">stream.ReadableStream</a></td><td class="argDescription ">Required. is the standard error stream</td></tr></table></div></div></div></div></article><article id="child_process.fork" data-title="child_process.fork (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.fork" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">fork</span></span><li class="signature-returns"><ul class="argument-types"><li class="argument-type"><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="returnType " title="Object" data-id="Object">Object</a></li></ul></li></li></ul><ul class="metaInfo"><li><span class="label related-to">Related to<a href="#child_process.spawn" class="" title="child_process.spawn (class method)" data-id="child_process.spawn">child_process.spawn</a> </span></li></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.fork" class="ellipsis_description"><p>This is a special case of the <a href="#child_process.spawn" class="link-short" title="child_process.spawn (class method)" data-id="child_process.spawn">undefined</a>
functionality for spawning Node.js processes. In addition to having all the
methods in a normal child_process instance, the returned object has a
communication channel built-in. See <a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> for details.</p>
</div><div id="short_child_process.fork" class="short_description hiddenSpan"><p>This is a special case of the <a href="#child_process.spawn" class="link-short" title="child_process.spawn (class method)" data-id="child_process.spawn">undefined</a>
functionality for spawning Node.js processes. In addition to having all the
methods in a normal child_process instance, the returned object has a
communication channel built-in. See <a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> for details.</p>
<p>By default the spawned Node.js process will have <code>stdout</code> and <code>stderr</code>
associated with the parent&#39;s. To change this behavior set the <code>silent</code> property
in the <code>options</code> object to <code>true</code>.</p>
<p>The child process does not automatically exit once it&#39;s done; you&#39;ll need to
call <a href="process.html#process.exit" class="link-short" title="process.exit (class method)" data-id="process.exit">exit</a> explicitly. This limitation may be lifted
in the future.</p>
<p>These child nodes are still whole new instances of V8. Assume at least 30ms
startup and 10mb memory for each new node. That is, you can&#39;t create many
thousands of them.</p>
</div><h3 id="child_process.fork" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><p>By default the spawned Node.js process will have <code>stdout</code> and <code>stderr</code>
associated with the parent&#39;s. To change this behavior set the <code>silent</code> property
in the <code>options</code> object to <code>true</code>.</p>
<p>The child process does not automatically exit once it&#39;s done; you&#39;ll need to
call <a href="process.html#process.exit" class="link-short" title="process.exit (class method)" data-id="process.exit">exit</a> explicitly. This limitation may be lifted
in the future.</p>
<p>These child nodes are still whole new instances of V8. Assume at least 30ms
startup and 10mb memory for each new node. That is, you can&#39;t create many
thousands of them.</p>
<h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">modulePath</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The location of the module</td></tr><tr class="argumentRow "><td class="argName ">arguments</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="" title="Array" data-id="Array">Array</a></td><td class="argDescription ">Required. A list of string arguments to use</td></tr><tr class="argumentRow "><td class="argName ">options</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="" title="Object" data-id="Object">Object</a></td><td class="argDescription ">Required. Any additional options to pass  <code>cwd</code> {String} Current working directory of the child process  <code>customFds</code> {Array}  Deprecated  File descriptors for the child to use for stdio. (See below)  <code>env</code> {Object} Environment key-value pairs  <code>encoding</code> {String} (Default: &#39;utf8&#39;)</td></tr></table></div></div></div></div></article><article id="child_process.kill" data-title="child_process.kill (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.kill" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">kill</span></span></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.kill" class="ellipsis_description"><p>Sends a signal to the child process. See
<a href="http://www.kernel.org/doc/man-pages/online/pages/man7/signal.7.html"><code>signal(7)</code></a> for a list of available signals.</p>
</div><div id="short_child_process.kill" class="short_description hiddenSpan"><p>Sends a signal to the child process. See
<a href="http://www.kernel.org/doc/man-pages/online/pages/man7/signal.7.html"><code>signal(7)</code></a> for a list of available signals.</p>
<p>Note that while the function is called <code>kill</code>, the signal delivered to the child
process may not actually kill it. <code>kill</code> really just sends a signal to a
process.</p>
<p>For more information, see
<a href="http://www.kernel.org/doc/man-pages/online/pages/man2/kill.2.html"><code>kill(2)</code></a>.</p>
<h4>Example</h4>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child.kill.js?linestart=3&lineend=0&showlines=false' defer='defer'></script></div><h3 id="child_process.kill" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><p>Note that while the function is called <code>kill</code>, the signal delivered to the child
process may not actually kill it. <code>kill</code> really just sends a signal to a
process.</p>
<p>For more information, see
<a href="http://www.kernel.org/doc/man-pages/online/pages/man2/kill.2.html"><code>kill(2)</code></a>.</p>
<h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">signal</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The kill signal to send</td></tr></table></div></div></div></div></article><article id="child_process.send" data-title="child_process.send (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.send" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">send</span></span></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.send" class="ellipsis_description"><p>When using <a href="#child_process.fork" class="link-short" title="child_process.fork (class method)" data-id="child_process.fork">fork</a>, you can write to the child using
this method. Messages are received by a <code>&#39;message&#39;</code> event on the child.</p>
</div><div id="short_child_process.send" class="short_description hiddenSpan"><p>When using <a href="#child_process.fork" class="link-short" title="child_process.fork (class method)" data-id="child_process.fork">fork</a>, you can write to the child using
this method. Messages are received by a <code>&#39;message&#39;</code> event on the child.</p>
<p>For example:</p>
<pre><code>var cp = require(<span class="comment">'child_process');</span>

var n = cp.fork(__dirname + <span class="comment">'/sub.js');</span>

n.<span class="keyword">on</span>(<span class="comment">'message', function(m) {</span>
  console.<span class="built_in">log</span>(<span class="comment">'PARENT got message:', m);</span>
});

n.send({ hello: <span class="comment">'world' });</span></code></pre>
<p>The child script, <code>&#39;sub.js&#39;</code> might look like this:</p>
<pre><code>process.<span class="keyword">on</span>(<span class="comment">'message', function(m) {</span>
  console.<span class="built_in">log</span>(<span class="comment">'CHILD got message:', m);</span>
});

process.send({ foo: <span class="comment">'bar' });</span></code></pre>
<p>In the child, the <code>process</code> object will have a <code>send()</code> method, and <code>process</code>
will emit objects each time it receives a message on its channel.</p>
<div class="alert alert-success"><h4 class="alert-heading">Note: </h4>There is a special case when sending a <code>{cmd: &#39;NODE_foo&#39;}</code> message. All messages</div>
<p>containing a <code>NODE_</code> prefix in its <code>cmd</code> property are not be emitted in
the <code>message</code> event, since they are internal messages used by node core.
Messages containing the prefix are emitted in the <code>internalMessage</code> event. <strong>You
should by all means avoid using this feature, it is subject to change without notice.</strong></p>
<p>The <code>sendHandle</code> option to <code>child_process.send()</code> is for sending a TCP server or
socket object to another process. The child receives the object as its
second argument to the <code>message</code> event.</p>
<h4>Examples</h4>
<p>Here is an example of sending a server:</p>
<pre><code>var child = <span class="keyword">require</span>(<span class="string">'child_process'</span>).<span class="keyword">fork</span>(<span class="string">'child.js'</span>);

<span class="regexp">//</span> Open up the server object <span class="keyword">and</span> <span class="keyword">send</span> the handle.
var server = <span class="keyword">require</span>(<span class="string">'net'</span>).createServer();
server.on(<span class="string">'connection'</span>, function (<span class="keyword">socket</span>) {
  <span class="keyword">socket</span>.end(<span class="string">'handled by parent'</span>);
});
server.<span class="keyword">listen</span>(<span class="number">1337</span>, function() {
  child_process.<span class="keyword">send</span>(<span class="string">'server'</span>, server);
});</code></pre>
<p>And the child would the recive the server object as:</p>
<pre><code>process.<span class="keyword">on</span>(<span class="comment">'message', function(m, server) {</span>
  <span class="keyword">if</span> (m === <span class="comment">'server') {</span>
    <span class="built_in">server</span>.<span class="keyword">on</span>(<span class="comment">'connection', function (socket) {</span>
      socket.<span class="keyword">end</span>(<span class="comment">'handled by child');</span>
    });
  }
});</code></pre>
<p>Note that the server is now shared between the parent and child. This means
that some connections are handled by the parent and some by the child.</p>
<p>Here is an example of sending a socket. It spawns two children, and handles
connections with the remote address <code>74.125.127.100</code> as VIP, by sending the
socket to a &quot;special&quot; child process. Other sockets will go to a &quot;normal&quot; process.</p>
<pre><code><span class="keyword">var</span> normal = require(<span class="string">'child_process'</span>).fork(<span class="string">'child.js'</span>, [<span class="string">'normal'</span>]);
<span class="keyword">var</span> special = require(<span class="string">'child_process'</span>).fork(<span class="string">'child.js'</span>, [<span class="string">'special'</span>]);

<span class="comment">// Open up the server and send sockets to child</span>
<span class="keyword">var</span> server = require(<span class="string">'net'</span>).createServer();
server.<span class="keyword">on</span>(<span class="string">'connection'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(socket)</span> <span class="comment">{

  // if this is a VIP
  if (socket.remoteAddress === '74.125.127.100') {
    special.send('socket', socket);
    return;
  }</span>
  // <span class="title">just</span> <span class="title">the</span> <span class="title">usual</span> <span class="title">dudes</span>
  <span class="title">normal</span>.<span class="title">send</span><span class="params">(<span class="string">'socket'</span>, socket)</span>;</span>
});
server.listen(<span class="number">1337</span>);</code></pre>
<p>The <code>child.js</code> could look like this:</p>
<pre><code>process.<span class="keyword">on</span>(<span class="comment">'message', function(m, socket) {</span>
  <span class="keyword">if</span> (m === <span class="comment">'socket') {</span>
    socket.<span class="keyword">end</span>(<span class="comment">'You where handled as a ' + process.argv[2] + ' person');</span>
  }
});</code></pre>
<p>Note that once a single socket has been sent to a child, the parent can no
longer keep track of when the socket is destroyed. To indicate this condition,
the <code>.connections</code> property becomes <code>null</code>. It is also recommended not to use
<code>.maxConnections</code> in this condition.</p>
</div><h3 id="child_process.send" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><p>For example:</p>
<pre><code>var cp = require(<span class="comment">'child_process');</span>

var n = cp.fork(__dirname + <span class="comment">'/sub.js');</span>

n.<span class="keyword">on</span>(<span class="comment">'message', function(m) {</span>
  console.<span class="built_in">log</span>(<span class="comment">'PARENT got message:', m);</span>
});

n.send({ hello: <span class="comment">'world' });</span></code></pre>
<p>The child script, <code>&#39;sub.js&#39;</code> might look like this:</p>
<pre><code>process.<span class="keyword">on</span>(<span class="comment">'message', function(m) {</span>
  console.<span class="built_in">log</span>(<span class="comment">'CHILD got message:', m);</span>
});

process.send({ foo: <span class="comment">'bar' });</span></code></pre>
<p>In the child, the <code>process</code> object will have a <code>send()</code> method, and <code>process</code>
will emit objects each time it receives a message on its channel.</p>
<div class="alert alert-success"><h4 class="alert-heading">Note: </h4>There is a special case when sending a <code>{cmd: &#39;NODE_foo&#39;}</code> message. All messages</div>
<p>containing a <code>NODE_</code> prefix in its <code>cmd</code> property are not be emitted in
the <code>message</code> event, since they are internal messages used by node core.
Messages containing the prefix are emitted in the <code>internalMessage</code> event. <strong>You
should by all means avoid using this feature, it is subject to change without notice.</strong></p>
<p>The <code>sendHandle</code> option to <code>child_process.send()</code> is for sending a TCP server or
socket object to another process. The child receives the object as its
second argument to the <code>message</code> event.</p>
<h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">message</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="" title="Object" data-id="Object">Object</a></td><td class="argDescription ">Required. A parsed JSON object, or a primitive value</td></tr><tr class="argumentRow "><td class="argName ">sendHandle</td><td class="argType" "><a href="net.html#net.Server" class="" title="net.Server (class)" data-id="net.Server">net.Server</a> | <a href="net.html#net.Socket" class="" title="net.Socket (class)" data-id="net.Socket">net.Socket</a></td><td class="argDescription ">Required. A handle object</td></tr></table></div></div></div></div></article><article id="child_process.spawn" data-title="child_process.spawn (class method)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.spawn" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">spawn</span></span></li></ul><ul class="metaInfo"><li><span class="label related-to">Related to<a href="#child_process.exec" class="" title="child_process.exec (class method)" data-id="child_process.exec">child_process.exec</a> </span></li></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.spawn" class="ellipsis_description"><p>Launches a new process for the given Unix <code>command</code>. You can pass command line
arguments through <code>args</code>.</p>
</div><div id="short_child_process.spawn" class="short_description hiddenSpan"><p>Launches a new process for the given Unix <code>command</code>. You can pass command line
arguments through <code>args</code>.</p>
<p><code>options</code> specifies additional options, which are:</p>
<p>They refer to:</p>
<ul>
<li><code>cwd</code>, a <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, specifies the working directory from which the process is spawned</li>
<li><code>stdio</code>, either an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a> or <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, containing the child&#39;s stdio configuration</li>
<li><code>customFds</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a>, is <strong>deprecated</strong>. They were file descriptors for the child to use for stdio</li>
<li><code>env</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="link-short" title="object" data-id="object">undefined</a>, specifies environment variables that will be visible to the new process</li>
<li><code>detached</code>, a <a href="http://www.nodemanual.org/latest/js_doc/Boolean.html" class="link-short" title="boolean" data-id="boolean">undefined</a>, identifying if the child will be a process group leader</li>
</ul>
<p>This object defaults to:</p>
<pre><code><span class="rules">{
  <span class="rule"><span class="attribute">cwd</span>:<span class="value"> undefined,
  env: process.env
</span>}</span></span></code></pre>
<p>Note that if <code>spawn()</code> receives an empty <code>options</code> object, it spawns the process
with an empty environment rather than using <a href="process.html#process.env" class="link-short" title="process.env (class property)" data-id="process.env">env</a>. This
is due to backwards compatibility issues with a deprecated API.</p>
<h5>About <code>stdio</code></h5>
<p>The &#39;stdio&#39; option to <code>child_process.spawn()</code> is an array where each
index corresponds to a file descriptor in the child.  The value is one of the following:</p>
<ol>
<li><code>&#39;pipe&#39;</code> - Create a pipe between the child process and the parent process.
The parent end of the pipe is exposed to the parent as a property on the
<code>child_process</code> object--as <code>ChildProcess.stdio[fd]</code>. Pipes created for
fds 0 - 2 are also available as <code>ChildProcess.stdin</code>, <code>ChildProcess.stdout</code>
and <code>ChildProcess.stderr</code>, respectively.</li>
<li><code>&#39;ipc&#39;</code> - Create an IPC channel for passing messages or file descriptors
between parent and child. A ChildProcess may have at most <em>one</em> IPC stdio
file descriptor. Setting this option enables the <a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> method.
If the child writes JSON messages to this file descriptor, then this will
trigger the child process&#39; <a href="events.html#eventemitter.on" class="link-short" title="eventemitter.on (class method)" data-id="eventemitter.on">on</a> event.  If the child is a
Node.js program, then the presence of an IPC channel will enable
<a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> object - Share a readable or writable stream that refers to a tty,
file, socket, or a pipe with the child process. The stream&#39;s underlying
file descriptor is duplicated in the child process to the fd that
corresponds to the index in the <code>stdio</code> array.</li>
<li>Positive integer - The integer value is interpreted as a file descriptor
that is is currently open in the parent process. It is shared with the child
process, similar to how <code>Stream</code> objects can be shared.</li>
<li><code>null</code> or <code>undefined</code> - Use default value. For stdio fds 0, 1 and 2 (in other
words, stdin, stdout, and stderr) a pipe is created. For fd 3 and up, the
default is <code>&#39;ignore&#39;</code>.</li>
</ol>
<p>As a shorthand, the <code>stdio</code> argument may also be one of the following strings, rather than an array:</p>
<ul>
<li><code>ignore</code> - <code>[&#39;ignore&#39;, &#39;ignore&#39;, &#39;ignore&#39;]</code></li>
<li><code>pipe</code> - <code>[&#39;pipe&#39;, &#39;pipe&#39;, &#39;pipe&#39;]</code></li>
<li><code>inherit</code> - <code>[process.stdin, process.stdout, process.stderr]</code> or <code>[0,1,2]</code></li>
</ul>
<p>For example:</p>
<pre><code><span class="keyword">var</span> spawn = <span class="keyword">require</span>(<span class="string">'child_process'</span>).spawn;

<span class="comment">// Child will use parent's stdios</span>
spawn(<span class="string">'prg'</span>, [], { stdio: <span class="string">'inherit'</span> });

<span class="comment">// Spawn child sharing only stderr</span>
spawn(<span class="string">'prg'</span>, [], { stdio: [<span class="string">'pipe'</span>, <span class="string">'pipe'</span>, process.stderr] });

<span class="comment">// Open an extra fd=4, to interact with programs present a</span>
<span class="comment">// startd-style interface.</span>
spawn(<span class="string">'prg'</span>, [], { stdio: [<span class="string">'pipe'</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="string">'pipe'</span>] });</code></pre>
<p>If the <code>detached</code> option is set, the child process will be made the leader of a
new process group.  This makes it possible for the child to continue running
after the parent exits.</p>
<p>By default, the parent will wait for the detached child to exit.  To prevent
the parent from waiting for a given <code>child</code>, use the <code>child.unref()</code> method,
and the parent&#39;s event loop will not include the child in its reference count.</p>
<p>Example of detaching a long-running process and redirecting its output to a
file:</p>
<pre><code> var fs = require(<span class="comment">'fs'),</span>
     spawn = require(<span class="comment">'child_process').spawn,</span>
     out = fs.openSync(<span class="comment">'./out.log', 'a'),</span>
     <span class="built_in">err</span> = fs.openSync(<span class="comment">'./out.log', 'a');</span>

 var child = spawn(<span class="comment">'prg', [], {</span>
   detached: <span class="literal">true</span>,
   stdio: [ <span class="comment">'ignore', out, err ]</span>
 });

 child.unref();</code></pre>
<p>When using the <code>detached</code> option to start a long-running process, the process
won&#39;t stay running in the background unless it is provided with a <code>stdio</code>
configuration that is not connected to the parent.  If the parent&#39;s <code>stdio</code> is
inherited, the child will remain attached to the controlling terminal.</p>
<h5>Undocumented Options</h5>
<p>There are several internal options—in particular: <code>stdinStream</code>, <code>stdoutStream</code>,
and <code>stderrStream</code>. They are for INTERNAL USE ONLY. As with all undocumented
APIs in Node.js, they shouldn&#39;t be used.</p>
<p>There is also a deprecated option called <code>customFds</code>, which allows one to
specify specific file descriptors for the <code>stdio</code> of the child process. This API
was not portable to all platforms and therefore removed. With <code>customFds</code>, it
was possible to hook up the new process&#39; [stdin, stdout, stderr] to existing
stream; <code>-1</code> meant that a new stream should be created. <strong>Use this functionality
at your own risk.</strong></p>
<h4>Example: Running <code>ls -lh /usr</code>, capturing <code>stdout</code>, <code>stderr</code>, and the exit</h4>
<p>code</p>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child.spawn_1.js?linestart=3&lineend=0&showlines=false' defer='defer'></script>

<h4>Example: A very elaborate way to run <code>&#39;ps ax | grep ssh&#39;</code>:</h4>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child.spawn_2.js?linestart=3&lineend=0&showlines=false' defer='defer'></script>

<h4>Example: Checking for a failed <code>exec</code>:</h4>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child.spawn_3.js?linestart=3&lineend=0&showlines=false' defer='defer'></script></div><h3 id="child_process.spawn" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"><p><code>options</code> specifies additional options, which are:</p>
<p>They refer to:</p>
<ul>
<li><code>cwd</code>, a <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, specifies the working directory from which the process is spawned</li>
<li><code>stdio</code>, either an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a> or <a href="http://www.nodemanual.org/latest/js_doc/String.html" class="link-short" title="string" data-id="string">undefined</a>, containing the child&#39;s stdio configuration</li>
<li><code>customFds</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="link-short" title="array" data-id="array">undefined</a>, is <strong>deprecated</strong>. They were file descriptors for the child to use for stdio</li>
<li><code>env</code>, an <a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="link-short" title="object" data-id="object">undefined</a>, specifies environment variables that will be visible to the new process</li>
<li><code>detached</code>, a <a href="http://www.nodemanual.org/latest/js_doc/Boolean.html" class="link-short" title="boolean" data-id="boolean">undefined</a>, identifying if the child will be a process group leader</li>
</ul>
<p>This object defaults to:</p>
<pre><code><span class="rules">{
  <span class="rule"><span class="attribute">cwd</span>:<span class="value"> undefined,
  env: process.env
</span>}</span></span></code></pre>
<p>Note that if <code>spawn()</code> receives an empty <code>options</code> object, it spawns the process
with an empty environment rather than using <a href="process.html#process.env" class="link-short" title="process.env (class property)" data-id="process.env">env</a>. This
is due to backwards compatibility issues with a deprecated API.</p>
<h5>About <code>stdio</code></h5>
<p>The &#39;stdio&#39; option to <code>child_process.spawn()</code> is an array where each
index corresponds to a file descriptor in the child.  The value is one of the following:</p>
<ol>
<li><code>&#39;pipe&#39;</code> - Create a pipe between the child process and the parent process.
The parent end of the pipe is exposed to the parent as a property on the
<code>child_process</code> object--as <code>ChildProcess.stdio[fd]</code>. Pipes created for
fds 0 - 2 are also available as <code>ChildProcess.stdin</code>, <code>ChildProcess.stdout</code>
and <code>ChildProcess.stderr</code>, respectively.</li>
<li><code>&#39;ipc&#39;</code> - Create an IPC channel for passing messages or file descriptors
between parent and child. A ChildProcess may have at most <em>one</em> IPC stdio
file descriptor. Setting this option enables the <a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> method.
If the child writes JSON messages to this file descriptor, then this will
trigger the child process&#39; <a href="events.html#eventemitter.on" class="link-short" title="eventemitter.on (class method)" data-id="eventemitter.on">on</a> event.  If the child is a
Node.js program, then the presence of an IPC channel will enable
<a href="#child_process.send" class="link-short" title="child_process.send (class method)" data-id="child_process.send">send</a> object - Share a readable or writable stream that refers to a tty,
file, socket, or a pipe with the child process. The stream&#39;s underlying
file descriptor is duplicated in the child process to the fd that
corresponds to the index in the <code>stdio</code> array.</li>
<li>Positive integer - The integer value is interpreted as a file descriptor
that is is currently open in the parent process. It is shared with the child
process, similar to how <code>Stream</code> objects can be shared.</li>
<li><code>null</code> or <code>undefined</code> - Use default value. For stdio fds 0, 1 and 2 (in other
words, stdin, stdout, and stderr) a pipe is created. For fd 3 and up, the
default is <code>&#39;ignore&#39;</code>.</li>
</ol>
<p>As a shorthand, the <code>stdio</code> argument may also be one of the following strings, rather than an array:</p>
<ul>
<li><code>ignore</code> - <code>[&#39;ignore&#39;, &#39;ignore&#39;, &#39;ignore&#39;]</code></li>
<li><code>pipe</code> - <code>[&#39;pipe&#39;, &#39;pipe&#39;, &#39;pipe&#39;]</code></li>
<li><code>inherit</code> - <code>[process.stdin, process.stdout, process.stderr]</code> or <code>[0,1,2]</code></li>
</ul>
<p>For example:</p>
<pre><code><span class="keyword">var</span> spawn = <span class="keyword">require</span>(<span class="string">'child_process'</span>).spawn;

<span class="comment">// Child will use parent's stdios</span>
spawn(<span class="string">'prg'</span>, [], { stdio: <span class="string">'inherit'</span> });

<span class="comment">// Spawn child sharing only stderr</span>
spawn(<span class="string">'prg'</span>, [], { stdio: [<span class="string">'pipe'</span>, <span class="string">'pipe'</span>, process.stderr] });

<span class="comment">// Open an extra fd=4, to interact with programs present a</span>
<span class="comment">// startd-style interface.</span>
spawn(<span class="string">'prg'</span>, [], { stdio: [<span class="string">'pipe'</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="string">'pipe'</span>] });</code></pre>
<p>If the <code>detached</code> option is set, the child process will be made the leader of a
new process group.  This makes it possible for the child to continue running
after the parent exits.</p>
<p>By default, the parent will wait for the detached child to exit.  To prevent
the parent from waiting for a given <code>child</code>, use the <code>child.unref()</code> method,
and the parent&#39;s event loop will not include the child in its reference count.</p>
<p>Example of detaching a long-running process and redirecting its output to a
file:</p>
<pre><code> var fs = require(<span class="comment">'fs'),</span>
     spawn = require(<span class="comment">'child_process').spawn,</span>
     out = fs.openSync(<span class="comment">'./out.log', 'a'),</span>
     <span class="built_in">err</span> = fs.openSync(<span class="comment">'./out.log', 'a');</span>

 var child = spawn(<span class="comment">'prg', [], {</span>
   detached: <span class="literal">true</span>,
   stdio: [ <span class="comment">'ignore', out, err ]</span>
 });

 child.unref();</code></pre>
<p>When using the <code>detached</code> option to start a long-running process, the process
won&#39;t stay running in the background unless it is provided with a <code>stdio</code>
configuration that is not connected to the parent.  If the parent&#39;s <code>stdio</code> is
inherited, the child will remain attached to the controlling terminal.</p>
<h5>Undocumented Options</h5>
<p>There are several internal options—in particular: <code>stdinStream</code>, <code>stdoutStream</code>,
and <code>stderrStream</code>. They are for INTERNAL USE ONLY. As with all undocumented
APIs in Node.js, they shouldn&#39;t be used.</p>
<p>There is also a deprecated option called <code>customFds</code>, which allows one to
specify specific file descriptors for the <code>stdio</code> of the child process. This API
was not portable to all platforms and therefore removed. With <code>customFds</code>, it
was possible to hook up the new process&#39; [stdin, stdout, stderr] to existing
stream; <code>-1</code> meant that a new stream should be created. <strong>Use this functionality
at your own risk.</strong></p>
<h4>Arguments</h4><table class="argumentTable argument-list table table-striped table-bordered"><tr class="argumentRow "><td class="argName ">command</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a></td><td class="argDescription ">Required. The Unix command to spawn</td></tr><tr class="argumentRow "><td class="argName ">args</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/String.html" class="" title="String" data-id="String">String</a> | <a href="http://www.nodemanual.org/latest/js_doc/Array.html" class="" title="Array" data-id="Array">Array</a></td><td class="argDescription ">Required. The command line arguments to pass</td></tr><tr class="argumentRow "><td class="argName ">options</td><td class="argType" "><a href="http://www.nodemanual.org/latest/js_doc/Object.html" class="" title="Object" data-id="Object">Object</a></td><td class="argDescription ">Required. Any additional options you want to transfer</td></tr></table></div></div></div></div></article><h3 class="sectionHeader">Properties</h3><article id="child_process.connected" data-title="child_process.connected (class property)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.connected" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">connected</span></span><li class="signature-returns"><ul class="argument-types"><li class="argument-type"><a href="http://www.nodemanual.org/latest/js_doc/Boolean.html" class="returnType " title="Boolean" data-id="Boolean">Boolean</a></li></ul></li></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.connected" class="ellipsis_description"><p>Returns <code>true</code> if a child process is connected.</p>
</div><div id="short_child_process.connected" class="short_description hiddenSpan"><p>Returns <code>true</code> if a child process is connected.</p>
</div><h3 id="child_process.connected" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"></div></div></div></div></article><article id="child_process.pid" data-title="child_process.pid (class property)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.pid" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">pid</span></span><li class="signature-returns"><ul class="argument-types"><li class="argument-type"><a href="http://www.nodemanual.org/latest/js_doc/Number.html" class="returnType " title="Number" data-id="Number">Number</a></li></ul></li></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.pid" class="ellipsis_description"><p>The PID of the child process.</p>
</div><div id="short_child_process.pid" class="short_description hiddenSpan"><p>The PID of the child process.</p>
<h4>Example</h4>
<script src='http://snippets.c9.io/github.com/c9/nodemanual.org-examples/nodejs_ref_guide/child_process/child.pid.js?linestart=3&lineend=0&showlines=false' defer='defer'></script></div><h3 id="child_process.pid" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"></div></div></div></div></article><article id="child_process.stdin" data-title="child_process.stdin (class property)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.stdin" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">stdin</span></span><li class="signature-returns"><ul class="argument-types"><li class="argument-type"><a href="stream.html#stream.WritableStream" class="returnType " title="stream.WritableStream (class)" data-id="stream.WritableStream">stream.WritableStream</a></li></ul></li></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.stdin" class="ellipsis_description"><p>A <a href="stream.html#stream.WritableStream" class="link-short" title="stream.WritableStream (class)" data-id="stream.WritableStream">undefined</a> that represents the child
process&#39;s <code>stdin</code>. Closing this stream via <a href="stream.html#stream.WritableStream.end" class="link-short" title="stream.WritableStream.end (class method)" data-id="stream.WritableStream.end">end</a> often causes the child process to terminate.</p>
</div><div id="short_child_process.stdin" class="short_description hiddenSpan"><p>A <a href="stream.html#stream.WritableStream" class="link-short" title="stream.WritableStream (class)" data-id="stream.WritableStream">undefined</a> that represents the child
process&#39;s <code>stdin</code>. Closing this stream via <a href="stream.html#stream.WritableStream.end" class="link-short" title="stream.WritableStream.end (class method)" data-id="stream.WritableStream.end">end</a> often causes the child process to terminate.</p>
</div><h3 id="child_process.stdin" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"></div></div></div></div></article><article id="child_process.stdout" data-title="child_process.stdout (class property)" class="article"><div class="section method"><div class="memberContent"><div class="title"><ul class="signatures"><li class="signature"><ul><li class="signature-call"><span id="child_process.stdout" class="member-name methodClicker"><span class="sigClassName">child_process.</span><span class="sigMemberName">stdout</span></span><li class="signature-returns"><ul class="argument-types"><li class="argument-type"><a href="stream.html#stream.ReadableStream" class="returnType " title="stream.ReadableStream (class)" data-id="stream.ReadableStream">stream.ReadableStream</a></li></ul></li></li></ul><ul class="metaInfo"></ul></li></ul></div><div class="sideToggler"><div id="ellipsis_child_process.stdout" class="ellipsis_description"><p>A <a href="stream.html#stream.ReadableStream" class="link-short" title="stream.ReadableStream (class)" data-id="stream.ReadableStream">undefined</a> that represents the child
process&#39;s <code>stdout</code>.</p>
</div><div id="short_child_process.stdout" class="short_description hiddenSpan"><p>A <a href="stream.html#stream.ReadableStream" class="link-short" title="stream.ReadableStream (class)" data-id="stream.ReadableStream">undefined</a> that represents the child
process&#39;s <code>stdout</code>.</p>
</div><h3 id="child_process.stdout" class="methodToggle methodClicker inactive">&nbsp;&nbsp;&nbsp;</h3><div class="description"></div></div></div></div></article></div></div><div id="disqus_thread"></div></div></div></div></div><div class="push"></div></div><div id="footer"><div class="footerInner"><div class="footer-text">&#169; 2012:</div></div></div><!-- scripts concatenated and minified via ant build script--><script defer src="./assets/javascripts/plugins.js"></script>
<script defer src="./assets/javascripts/prettify.js"></script>
<script defer src="./assets/javascripts/prettify-extension.js"></script>
<script defer src="./assets/javascripts/ux.js"></script><!-- end scripts--><!--[if lt IE 7]><script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script><script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})
</script><![endif]--></body></html>